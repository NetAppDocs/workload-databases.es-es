---
sidebar: sidebar 
permalink: register-instance.html 
keywords: manage, register, Microsoft SQL Server instance, Oracle database, manage database, manage instance 
summary: Registre recursos para poder supervisar el estado de los recursos, la utilización de los recursos, la protección y el rendimiento del almacenamiento en NetApp Workload Factory for Databases. 
---
= Registrar recursos en NetApp Workload Factory para bases de datos
:allow-uri-read: 
:icons: font
:imagesdir: ./media/


[role="lead"]
Registre instancias para Microsoft SQL Server y bases de datos para Oracle para que pueda supervisar el estado de las instancias y las bases de datos, la utilización de recursos, la protección y el rendimiento del almacenamiento en NetApp Workload Factory for Databases.

Solo puedes registrar tus recursos si se ejecutan en FSx para ONTAP file system storage.



== Acerca de la tarea

Registrar una instancia (SQL Server) o base de datos (Oracle) tiene tres pasos: autenticación de la instancia o base de datos, autenticación de FSx para ONTAP y preparación. La preparación implica asegurarte de que todos los módulos de AWS, NetApp y PowerShell estén instalados en la instancia o base de datos, y que se cumplan los requisitos mínimos para las funciones de Workload Factory for Databases como link:analyze-error-logs.html["análisis de registros de errores"] o link:optimize-configurations.html["revisión well-architected"].

Workload Factory solo admite el registro y la administración de instancias de Microsoft SQL Server y de bases de datos Oracle.  Según las credenciales de la cuenta de AWS que seleccione en Workload Factory, los hosts PostgreSQL podrían aparecer en el Inventario.  Actualmente, Workload Factory admite instancias de PostgreSQL no registradas que se ejecutan únicamente en sistemas operativos Amazon Linux.



== Antes de empezar

El host de la instancia o base de datos debe aparecer en el Inventario. Para que los hosts aparezcan en el inventario, debe link:https://docs.netapp.com/us-en/workload-setup-admin/add-credentials.html["otorgar permisos de _visualización, planificación y análisis_"^] en su cuenta de AWS.



=== Registrar una instancia en una red privada

Para registrar una instancia (SQL Server) o una base de datos (Oracle) en una red privada sin conectividad externa, los siguientes puntos finales deben estar disponibles en la VPC con asociación a las subredes donde están presentes los servidores SQL.  Asegúrese de que los puntos finales de la interfaz permitan el puerto 443 en el grupo de seguridad adjunto.

* `S3 Gateway/endpoint`
* `ssm`
* `ssmmessages`
* `fsx`
+
Si utiliza un servidor proxy para todas las conexiones salientes de instancias EC2, debe permitir el acceso a los siguientes dominios para que las operaciones de gestión funcionen:

* ``.microsoft.com``(Servidor SQL)
* ``.powershellgallery.com``(Servidor SQL)
* ``.aws.amazon.com``
* ``.amazonaws.com``




== Registrar una instancia de Microsoft SQL Server

Registrar una instancia tiene tres pasos: autenticación de la instancia, autenticación de FSx for ONTAP y preparación para completar los requisitos previos que falten. Puedes registrar una o varias instancias.

Workload Factory admite el registro para Failover Cluster Instance (FCI) y la implementación autónoma para SQL Server.

.Pasos
. Inicie sesión con uno de los link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiencias de consola"^]botones .
. Seleccione el menú image:workloads-menu-icon.png["El ícono del menú de hamburguesa se utiliza para navegar a cargas de trabajo como almacenamiento, eda, ai, bases de datos, vmware y administración."] y luego seleccione *Bases de datos*.
. Desde el menú Bases de datos, seleccione *Inventario*.
. En el Inventario, seleccione *Microsoft SQL Server* como tipo de motor.
. Seleccione la pestaña *Instancias*.
. Seleccione para registrar una sola instancia o varias instancias.
. Para autenticar instancias (paso 1), haz lo siguiente y luego selecciona *Siguiente*:
+
.. Selecciona *usar las mismas credenciales para todas las instancias* o *gestionar credenciales manualmente*.
.. Autentica SQL Server y Windows proporcionando el nombre de usuario y la contraseña.
+
Si las instancias están autenticadas, selecciona *Siguiente*.



. Para autenticar FSx para ONTAP (paso 2), haz lo siguiente:
+
.. Selecciona *Usar las mismas credenciales para todos los recursos* o *Gestionar credenciales manualmente*.
.. Introduce el nombre de usuario y la contraseña del sistema de archivos FSx for ONTAP y luego selecciona *Next*.
+
Si el sistema de archivos FSx para ONTAP está autenticado, selecciona *Siguiente*.



. Para preparar (paso 3), asegúrate de que la(s) instancia(s) cumple(n) los requisitos mínimos.
+
Para cumplir los requisitos mínimos, la instancia debe tener instalados los módulos de AWS y NetApp PowerShell y los módulos de PowerShell 7, y debes completar los requisitos previos para al menos una de las capacidades enumeradas en Prerequisite check.

+
.. Revisa los prerrequisitos en la *Prerequisite check view*.
+
Debes completar todos los requisitos previos para una sola capacidad como *Revisar problemas y recomendaciones bien diseñados* para registrar la instancia.

.. Selecciona *Detalles de configuración* para cada capacidad para conocer los requisitos previos de la capacidad y sigue las instrucciones en pantalla para completar cualquier requisito previo que falte para una capacidad.
+
Para tener Workload Factory link:optimize-configurations.html["revisa y soluciona los problemas bien arquitectados"] para tus instancias, completa todos los requisitos previos que aparecen en las capacidades *Revisar problemas y recomendaciones bien diseñados* y *Corregir problemas bien diseñados*.



. Cuando los requisitos previos estén completos, *Registra* la(s) instancia(s).


.Resultado
Se inicia el registro de la instancia. Selecciona la pestaña *Monitorización de trabajos* para seguir el progreso.



== Registrar una base de datos Oracle

Registrar una instancia tiene tres pasos: autenticación de la base de datos, autenticación de FSx for ONTAP y preparación para completar los requisitos previos que faltan. Puedes registrar una o varias bases de datos.

.Pasos
. Inicie sesión con uno de los link:https://docs.netapp.com/us-en/workload-setup-admin/console-experiences.html["experiencias de consola"^]botones .
. Seleccione el menú image:workloads-menu-icon.png["El ícono del menú de hamburguesa se utiliza para navegar a cargas de trabajo como almacenamiento, eda, ai, bases de datos, vmware y administración."] y luego seleccione *Bases de datos*.
. Desde el menú Bases de datos, seleccione *Inventario*.
. En el Inventario, selecciona *Oracle* como tipo de motor.
. Seleccione la pestaña *Bases de datos*.
. Seleccione para registrar una sola base de datos o varias bases de datos.
. Para autenticar bases de datos (paso 1), haz lo siguiente:
+
** Selecciona *usar las mismas credenciales para todas las instancias* o *gestionar credenciales manualmente*.
** Autentica al usuario de Oracle y al usuario de Automatic Storage Management (ASM) grid (si aplica) proporcionando el nombre de usuario y la contraseña.
+
Si las bases de datos están autenticadas, selecciona *Siguiente*.



. Para autenticar FSx para ONTAP (paso 2), haz lo siguiente y luego selecciona *Siguiente*:
+
** Selecciona *Usar las mismas credenciales para todos los recursos* o *Gestionar credenciales manualmente*.
** Ingresa el nombre de usuario y la contraseña del sistema de archivos FSx for ONTAP.
+
Si el sistema de archivos FSx para ONTAP está autenticado, selecciona *Siguiente*.



. Para preparar (paso 3), asegúrate de que la(s) base(s) de datos cumple(n) los requisitos previos. Si todos los módulos requeridos están instalados y se cumplen los requisitos previos, selecciona *Next* para registrar la base de datos. De lo contrario, sigue estos pasos.
+
.. Revisa los prerrequisitos en la *Prerequisite check view*.
+
Debes completar todos los requisitos previos para una sola capacidad como *Revisar problemas y recomendaciones bien diseñados* para registrar la base de datos.

.. Selecciona *Detalles de configuración* para cada capacidad para conocer los requisitos previos de la capacidad y sigue las instrucciones en pantalla para completar cualquier requisito previo que falte para una capacidad.
+
Para tener Workload Factory link:optimize-configurations.html["revisa y soluciona los problemas bien arquitectados"] para tus bases de datos, completa todos los requisitos previos que aparecen en *Revisar problemas y recomendaciones bien diseñados* y *Corregir problemas bien diseñados*.



. Cuando termines los requisitos previos, *registra* la(s) base(s) de datos.


.Resultado
Se inicia el registro de la base de datos. Selecciona la pestaña *Job monitoring* para seguir el progreso.

.El futuro
Después de registrar el recurso, puede realizar las siguientes tareas.

* Ver bases de datos desde el inventario
* link:create-database.html["Cree una base de datos"]
* link:create-sandbox-clone.html["Crear un clon de base de datos (sandbox)"]
* link:optimize-configurations.html["Implementar configuraciones de bases de datos bien diseñadas"]

